<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>3 Integration with Editors and IDEs 0.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/integrationWithEditors.html"><strong>3</strong><span>Integration with Editors and IDEs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/advancedTopics.html"><strong>4</strong><span>Advanced Topics</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Provides the way of using interactive mode from other process via TCP.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/gettingStarted.html">&lt;&lt; <strong>2</strong><span>Getting Started</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/advancedTopics.html"><strong>4</strong><span>Advanced Topics</span> >></a></div>
                


                <div class="project">
                    <h1>3 Integration with Editors and IDEs - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Yasuharu NAKANO</p>

                    <p><strong>Version:</strong> 0.1</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#integrationWithIdea"><strong>3.1</strong><span>IntelliJ IDEA</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#integrationWithEclipse"><strong>3.2</strong><span>Eclipse (STS/GGTS)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#integrationWithSublimeText2"><strong>3.3</strong><span>Sublime Text 2</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#integrationWithVim"><strong>3.4</strong><span>Vim + QuickRun</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="integrationWithEditors">3 Integration with Editors and IDEs</h1>
If the editor which you uses supports for external tools,
you can immediately execute the code on the current editor by one action.
To do it, you have to set up something.<p class="paragraph"/>



<h2 id="integrationWithIdea">3.1 IntelliJ IDEA</h2>
<h3>External Tools</h3>
<ol>
<li>Open Settings dialog from  <em class="italic">"Preferences"</em>  menu.</li>
<li>Select  <em class="italic">"External Tools"</em>  at left pane.</li>
<li>Click the below  <em class="italic">"+"</em>  button to show  <em class="italic">"Edit Tool"</em>  dialog:&#10;    <img border="0" class="center" src="../img/idea-external-tools-add.png"></img></li>
<li>Set the fields as follows if shell script is available in your environment:&#10;    <table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Field</strong></th><th><strong class="bold">Value</strong></th><th><strong class="bold">Remarks</strong></th></tr><tr class="table-odd"><td>Name</td><td><code>Improx: SmartInvoker &#91;sh&#93;</code></td><td>&#160;</td></tr><tr class="table-even"><td>Group</td><td><code>Grails</code></td><td>&#160;</td></tr><tr class="table-odd"><td>Program</td><td><code>/path/to/improxSmartInvoker.sh</code></td><td>&#160;</td></tr><tr class="table-even"><td>Parameters</td><td><code>$FilePath$</code></td><td>&#160;</td></tr><tr class="table-odd"><td>Working directory</td><td><code>$FileDir$</code></td><td>&#160;</td></tr></table>&#10;    <img border="0" class="center" src="../img/idea-external-tools-edit-sh.png"></img>&#10;    Else:&#10;    <table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Field</strong></th><th><strong class="bold">Value</strong></th><th><strong class="bold">Remarks</strong></th></tr><tr class="table-odd"><td>Name</td><td><code>Improx: SmartInvoker &#91;Groovy&#93;</code></td><td>&#160;</td></tr><tr class="table-even"><td>Group</td><td><code>Grails</code></td><td>&#160;</td></tr><tr class="table-odd"><td>Program</td><td><code>/path/to/groovyclient</code></td><td>You can use normal <code>groovy</code> command, but it needs a global <code>JAVA_HOME</code> environment variable and your patience.</td></tr><tr class="table-even"><td>Parameters</td><td><code>/path/to/improxSmartInvoker.sh $FilePath$</code></td><td>using a white space as delimiter</td></tr><tr class="table-odd"><td>Working directory</td><td><code>$FileDir$</code></td><td>&#160;</td></tr></table>&#10;    <img border="0" class="center" src="../img/idea-external-tools-edit-groovy.png"></img></li>
<li>Click  <em class="italic">"OK"</em>  button to save.</li>
</ol><p class="paragraph"/><h3>Keymap</h3>
<ol>
<li>Open Settings dialog from  <em class="italic">"Preferences"</em>  menu.</li>
<li>Select  <em class="italic">"Keymap"</em>  at left pane.</li>
<li>Right-click  <em class="italic">"External Tools &#62; Grails &#62; Improx: SmartInvoker (which you want)"</em>  item at right pane and select  <em class="italic">"Add Keyboard Shortcut"</em>  item:&#10;    <img border="0" class="center" src="../img/idea-keymap-menu.png"></img></li>
<li>Push your favorite key at  <em class="italic">"First Stroke"</em>  field on the  <em class="italic">"Enter Keyboard Shortcut"</em>  dialog:&#10;    <img border="0" class="center" src="../img/idea-keymap-bind.png"></img></li>
<li>Click  <em class="italic">"OK"</em>  button to save.</li>
</ol><p class="paragraph"/><h3>Try to run</h3>
<ol>
<li>Open a test class in the editor.</li>
<li>Push the key which you set, for example, <code>F9</code>.</li>
<li>Improx plugin run only the active test file and output the result to  <em class="italic">"Run"</em>  view in real time:&#10;    <img border="0" class="center" src="../img/idea-run.png"></img></li>
</ol><p class="paragraph"/><blockquote class="note">
In case of using GroovyServ, you should run <code>groovyserver</code> command at once in advance.
</blockquote>



<h2 id="integrationWithEclipse">3.2 Eclipse (STS/GGTS)</h2>
<h3>External Tools</h3>
<ol>
<li>Open  <em class="italic">"External Tools Configurations"</em>  dialog from  <em class="italic">"Run &#62; External Tools &#62; External Tools Configurations..."</em>  menu.</li>
<li>Right click on  <em class="italic">"Program"</em>  item at left pane and select  <em class="italic">"New"</em>  item:&#10;    <img border="0" class="center" src="../img/eclipse-external-tools-new.png"></img></li>
<li>Set the fields as follows if shell script is available in your environment:&#10;    <table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Field</strong></th><th><strong class="bold">Value</strong></th><th><strong class="bold">Remarks</strong></th></tr><tr class="table-odd"><td>Name</td><td><code>Grails Improx SmartInvoker &#91;sh&#93;</code></td><td>&#160;</td></tr><tr class="table-even"><td>Location</td><td><code>/path/to/improxSmartInvoker.sh</code></td><td>&#160;</td></tr><tr class="table-odd"><td>Working Directory</td><td><code>${container_loc}$</code></td><td>&#160;</td></tr><tr class="table-even"><td>Arguments</td><td><code>${resource_loc}$</code></td><td>&#160;</td></tr></table>&#10;    <img border="0" class="center" src="../img/eclipse-external-tools-edit-sh.png"></img>&#10;    Else:&#10;    <table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Field</strong></th><th><strong class="bold">Value</strong></th><th><strong class="bold">Remarks</strong></th></tr><tr class="table-odd"><td>Name</td><td><code>Grails Improx SmartInvoker &#91;Groovy&#93;</code></td><td>&#160;</td></tr><tr class="table-even"><td>Location</td><td><code>/path/to/groovyclient</code></td><td>You can use normal <code>groovy</code> command, but it needs a <code>JAVA_HOME</code> environment variable at  <em class="italic">"Environment"</em>  tab and your patience.</td></tr><tr class="table-odd"><td>Working Directory</td><td><code>${container_loc}$</code></td><td>&#160;</td></tr><tr class="table-even"><td>Arguments</td><td><code>/path/to/improxSmartInvoker.groovy ${resource_loc}$</code></td><td>using a white space as delimiter</td></tr></table>&#10;    <img border="0" class="center" src="../img/eclipse-external-tools-edit-groovy.png"></img></li>
<li>Click  <em class="italic">"OK"</em>  button to save.</li>
</ol><p class="paragraph"/><h3>Try to run</h3>
<ol>
<li>Open a test class in the editor.</li>
<li>Open  <em class="italic">"External Tools Configurations"</em>  dialog from  <em class="italic">"Run &#62; External Tools &#62; External Tools Configurations..."</em>  menu.</li>
<li>Select  <em class="italic">"Grails Improx SmartInvoker (which you want)"</em>  item at left pane and click  <em class="italic">"Run"</em>  button.</li>
<li>Improx plugin run only the active test file and output the result to  <em class="italic">"Console"</em>  view in real time:&#10;    <img border="0" class="center" src="../img/eclipse-run.png"></img></li>
</ol><p class="paragraph"/><blockquote class="note">
In case of using GroovyServ, you should run <code>groovyserver</code> command at once in advance.
</blockquote><p class="paragraph"/><blockquote class="note">
After second time, you can easily run the external tool from the submenu of  <em class="italic">"Run &#62; External Tools"</em> .
</blockquote><p class="paragraph"/>


<h2 id="integrationWithSublimeText2">3.3 Sublime Text 2</h2>
<h3>Build System</h3>
<ol>
<li>Select  <em class="italic">"Tools &#62; Build System &#62; New Build System..."</em>  menu to open new file.</li>
<li>Edit as follows and save the file as <code>Groovy.sublime-build</code> (in <code>Packages/User</code> directory as default).</li>
</ol><p class="paragraph"/>If shell script is available in your environment:<p class="paragraph"/><div class="code"><pre>&#123;
    <span class="java&#45;quote">"cmd"</span>: &#91;
        <span class="java&#45;quote">"/path/to/improxSmartInvoker.sh"</span>,
        <span class="java&#45;quote">"$file"</span>
    &#93;,
    <span class="java&#45;quote">"file_regex"</span>: "&#92;&#92;((.&#42;?):(&#91;0&#45;9&#93;&#42;)&#92;&#92;)<span class="java&#45;quote">",
    "</span>selector<span class="java&#45;quote">": "</span>source.groovy"
&#125;</pre></div><p class="paragraph"/>Else:<p class="paragraph"/><div class="code"><pre>&#123;
    <span class="java&#45;quote">"cmd"</span>: &#91;
        <span class="java&#45;quote">"/path/to/groovyclient"</span>, // OR /path/to/groovy
        <span class="java&#45;quote">"/path/to/improxSmartInvoker.groovy"</span>,
        <span class="java&#45;quote">"$file"</span>
    &#93;,
    <span class="java&#45;quote">"file_regex"</span>: "&#92;&#92;((.&#42;?):(&#91;0&#45;9&#93;&#42;)&#92;&#92;)<span class="java&#45;quote">",
    "</span>selector<span class="java&#45;quote">": "</span>source.groovy"
&#125;</pre></div><p class="paragraph"/>
<h3>Try to run</h3>
<ol>
<li>Open a test class in the editor.</li>
<li>Select  <em class="italic">"Tools &#62; Build"</em>  menu (or push a shortcut key, like <code>super+b</code>)</li>
<li>Improx plugin run only the active test file and output the result to Bulid Results pane in real time:&#10;    <img border="0" class="center" src="../img/st2-run.png"></img></li>
</ol><p class="paragraph"/><blockquote class="note">
In case of using GroovyServ, you should run <code>groovyserver</code> command at once in advance.
</blockquote>



<h2 id="integrationWithVim">3.4 Vim + QuickRun</h2>
<h3>quickrun.vim</h3>
<ol>
<li>Install <a href="http://www.vim.org/scripts/script.php?script_id=3146" target="blank">quickrun.vim</a> plugin if you hasn't done so.&#10;    (cf. <a href="http://nobeans-en.blogspot.jp/2011/10/invoking-groovy-script-directly-on-vim.html" target="blank">Invoking Groovy Script Directly on Vim using quickrun.vim and GroovyServ</a>)</li>
<li>Add the following lines into your <code>.vimrc</code> and save.</li>
</ol><p class="paragraph"/>If shell script is available in your environment:<p class="paragraph"/><div class="code"><pre>let g:quickrun_config = &#123;&#125;
let g:quickrun_config.groovy = &#123;'command' : '/path/to/improxSmartInvoker.sh', 'cmdopt': ''&#125;</pre></div><p class="paragraph"/>Else:<p class="paragraph"/><div class="code"><pre>let g:quickrun_config = &#123;&#125;
let g:quickrun_config.groovy = &#123;'command' : '/path/to/groovyclient', 'cmdopt': '/path/to/improxSmartInvoker.groovy'&#125;</pre></div><p class="paragraph"/>
<h3>Try to run</h3>
<ol>
<li>Open a test class in the editor.</li>
<li>Execute ex command <code>:QuickRun</code> (or type <code>&#60;Leader&#62;</code> <code>r</code>.)</li>
<li>Improx plugin run only the active test file and output the result to a buffer after it completely finishes:&#10;    <img border="0" class="center" src="../img/vim-run.png"></img></li>
</ol><p class="paragraph"/><blockquote class="note">
In case of using GroovyServ, you should run <code>groovyserver</code> command at once in advance.
</blockquote>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/gettingStarted.html">&lt;&lt; <strong>2</strong><span>Getting Started</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/advancedTopics.html"><strong>4</strong><span>Advanced Topics</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Client Scripts</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Client%20Scripts/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Client%20Scripts/improxClient.groovy.html">improxClient.groovy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Client%20Scripts/improxClient.sh.html">improxClient.sh</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Client%20Scripts/improxSmartInvoker.groovy.html">improxSmartInvoker.groovy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Client%20Scripts/improxSmartInvoker.sh.html">improxSmartInvoker.sh</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Server Command Line</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Server%20Command%20Line/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Server%20Command%20Line/improx-install-resources.html">improx-install-resources</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Server%20Command%20Line/improx-start.html">improx-start</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Server%20Command%20Line/improx-stop.html">improx-stop</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
